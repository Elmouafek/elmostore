<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Elegant Checkout Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- Country Select -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css">

  <!-- Phone Input -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css"/>

  <style>
    :root {
      --bg: #f9fafb;
      --text: #111;
      --card: #fff;
      --accent: #2563eb;
    }
    body.dark {
      --bg: #111827;
      --text: #f9fafb;
      --card: #1f2937;
      --accent: #3b82f6;
    }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }
    .container {
      max-width: 800px;
      margin: 2rem auto;
      background: var(--card);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    label {
      display: block;
      font-weight: 600;
      margin: 1rem 0 0.3rem;
    }
    input, select, .select2-container--default .select2-selection--single {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      font-size: 1rem;
    }
    .summary {
      margin-top: 2rem;
      padding: 1rem;
      border-radius: 0.5rem;
      background: var(--bg);
    }
    .btn {
      display: inline-block;
      padding: 0.8rem 1.2rem;
      border-radius: 0.5rem;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn-pay {
      background: var(--accent);
      color: #fff;
      width: 100%;
      margin-top: 1rem;
    }
    .theme-switcher {
      text-align: center;
      margin-top: 1rem;
    }
    .theme-switcher button {
      margin: 0 0.3rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Checkout</h1>
    <form id="orderForm">
      <label for="name">Full Name</label>
      <input type="text" id="name" required>

      <label for="email">Email</label>
      <input type="email" id="email" required>

      <label for="country">Country</label>
      <select id="country" required></select>

      <label for="phone">Phone Number</label>
      <input type="tel" id="phone" required>

      <label for="address">Address</label>
      <input type="text" id="address" required>

      <label for="zip">Zip Code</label>
      <input type="text" id="zip" required>

      <label for="quantity">Quantity</label>
      <input type="number" id="quantity" value="1" min="1" required>

      <div class="summary" id="summary">
        <h3>Order Summary</h3>
        <p><strong>Name:</strong> -</p>
        <p><strong>Email:</strong> -</p>
        <p><strong>Country:</strong> -</p>
        <p><strong>Phone:</strong> -</p>
        <p><strong>Address:</strong> -</p>
        <p><strong>Zip:</strong> -</p>
        <p><strong>Quantity:</strong> 1</p>
        <p><strong>Total:</strong> $10</p>
      </div>

      <button type="submit" class="btn btn-pay">Checkout with PayPal</button>
    </form>

    <div class="theme-switcher">
      <button type="button" class="btn" onclick="setTheme('default')">Default</button>
      <button type="button" class="btn" onclick="setTheme('light')">Light</button>
      <button type="button" class="btn" onclick="setTheme('dark')">Dark</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>

  <script>
    // Init Country Select
    const countrySelect = $("#country");
    const countries = Intl.DisplayNames ? 
      new Intl.DisplayNames(['en'], { type: 'region' }) : null;
    for (let i = 1; i <= 999; i++) {
      try {
        let code = String.fromCharCode(65 + (i % 26)) + String.fromCharCode(65 + ((i+7) % 26));
        if (countries && countries.of(code)) {
          countrySelect.append(new Option(countries.of(code), code));
        }
      } catch {}
    }
    countrySelect.select2();

    // Phone input
    const phoneInput = document.querySelector("#phone");
    const iti = window.intlTelInput(phoneInput, { initialCountry: "auto" });

    // Update summary
    const form = document.getElementById("orderForm");
    const summary = document.getElementById("summary");
    const unitPrice = 10;

    form.addEventListener("input", () => {
      const name = form.name.value;
      const email = form.email.value;
      const country = $("#country option:selected").text();
      const phone = form.phone.value;
      const address = form.address.value;
      const zip = form.zip.value;
      const quantity = form.quantity.value;
      const total = unitPrice * quantity;

      summary.innerHTML = `
        <h3>Order Summary</h3>
        <p><strong>Name:</strong> ${name}</p>
        <p><strong>Email:</strong> ${email}</p>
        <p><strong>Country:</strong> ${country}</p>
        <p><strong>Phone:</strong> ${phone}</p>
        <p><strong>Address:</strong> ${address}</p>
        <p><strong>Zip:</strong> ${zip}</p>
        <p><strong>Quantity:</strong> ${quantity}</p>
        <p><strong>Total:</strong> $${total}</p>
      `;
    });

    // Submit to PayPal
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const quantity = form.quantity.value;
      const total = unitPrice * quantity;
      const url = `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=elmouafek94@gmail.com&item_name=Custom+Order&amount=${total}&currency_code=USD&quantity=${quantity}`;
      window.location.href = url;
    });

    // Theme switcher
    function setTheme(mode) {
      if (mode === 'dark') document.body.classList.add("dark");
      else if (mode === 'light') document.body.classList.remove("dark");
      else document.body.className = "";
    }
  </script>
</body>
</html>
